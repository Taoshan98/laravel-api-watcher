import{b as U,w as j,f as n,k as V,m as b,q as F,g as d,j as t,T as L,u as i,F as _,v as h,x as p,y as u,z as m,E as f,t as k,G as M,o as z,c as B,e as G,D as Q}from"./vendor-charts-B6IHGujI.js";import{c as A,u as X}from"./app-DYKFonEC.js";import{X as N}from"./x-DHufnDb5.js";import{f as R}from"./formatDistanceToNow-aDLjEcHe.js";/**
 * @license lucide-vue-next v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=A("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-vue-next v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=A("SlidersHorizontalIcon",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),K={key:0,class:"fixed inset-0 z-50",role:"dialog","aria-modal":"true"},W={key:0,class:"fixed inset-y-0 right-0 w-full max-w-md flex flex-col bg-surface-raised border-l border-border-subtle shadow-2xl"},Y={class:"flex items-center justify-between px-5 py-4 border-b border-border-subtle"},Z={class:"flex-1 overflow-y-auto px-5 py-5 space-y-6"},q={class:"flex flex-wrap gap-2"},tt=["onClick"],et={class:"flex flex-wrap gap-2"},st=["onClick"],ot={class:"space-y-3"},lt={class:"flex flex-col gap-1.5"},at={class:"flex flex-col gap-1.5"},rt={class:"flex flex-col gap-1.5"},nt={class:"space-y-3"},dt={class:"flex flex-col gap-1.5"},it={class:"flex flex-col gap-1.5"},ut={class:"grid grid-cols-2 gap-4"},xt={class:"flex flex-col gap-1.5"},ct={class:"flex flex-col gap-1.5"},pt={__name:"FilterSidebar",props:{isOpen:Boolean,filters:Object},emits:["close","apply","reset"],setup(C,{emit:$}){const w=C,c=$,o=U({...w.filters});j(()=>w.filters,x=>{o.value={...x}},{deep:!0});const v=["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD"],g=[{label:"2xx Success",value:"2xx",color:"bg-success-soft text-success border-success/20"},{label:"3xx Redirect",value:"3xx",color:"bg-info-soft text-info border-info/20"},{label:"4xx Client",value:"4xx",color:"bg-warning-soft text-warning border-warning/20"},{label:"5xx Server",value:"5xx",color:"bg-danger-soft text-danger border-danger/20"}],y={GET:"bg-info-soft text-info border-info/20",POST:"bg-success-soft text-success border-success/20",PUT:"bg-warning-soft text-warning border-warning/20",DELETE:"bg-danger-soft text-danger border-danger/20",PATCH:"bg-accent-soft text-accent border-accent/20",OPTIONS:"bg-surface-elevated text-text-secondary border-border-default",HEAD:"bg-surface-elevated text-text-secondary border-border-default"},P=x=>{const e=o.value.method.indexOf(x);e>=0?o.value.method.splice(e,1):o.value.method.push(x)},T=x=>{const e=o.value.status_code.indexOf(x);e>=0?o.value.status_code.splice(e,1):o.value.status_code.push(x)},S=()=>c("apply",o.value),E=()=>{o.value={method:[],status_code:[],url:"",ip_address:"",user_id:"",date_from:"",date_to:"",duration_min:"",duration_max:""},c("reset")};return(x,e)=>(n(),V(M,{to:"body"},[b(L,{name:"fade"},{default:F(()=>[C.isOpen?(n(),d("div",K,[t("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e[0]||(e[0]=a=>c("close"))}),b(L,{name:"slide-right"},{default:F(()=>[C.isOpen?(n(),d("div",W,[t("div",Y,[e[9]||(e[9]=t("h2",{class:"text-lg font-semibold text-text-primary"},"Filters",-1)),t("button",{onClick:e[1]||(e[1]=a=>c("close")),class:"p-1.5 rounded-lg hover:bg-surface-hover transition-colors text-text-muted hover:text-text-primary"},[b(i(N),{class:"w-5 h-5"})])]),t("div",Z,[t("div",null,[e[10]||(e[10]=t("h3",{class:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-3"},"Methods",-1)),t("div",q,[(n(),d(_,null,h(v,a=>t("button",{key:a,onClick:l=>P(a),class:p(["px-3 py-1.5 text-xs font-semibold rounded-full border transition-all duration-200",o.value.method.includes(a)?y[a]:"bg-transparent border-border-default text-text-muted hover:text-text-primary hover:border-border-strong"])},u(a),11,tt)),64))])]),t("div",null,[e[11]||(e[11]=t("h3",{class:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-3"},"Status Codes",-1)),t("div",et,[(n(),d(_,null,h(g,a=>t("button",{key:a.value,onClick:l=>T(a.value),class:p(["px-3 py-1.5 text-xs font-semibold rounded-full border transition-all duration-200",o.value.status_code.includes(a.value)?a.color:"bg-transparent border-border-default text-text-muted hover:text-text-primary hover:border-border-strong"])},u(a.label),11,st)),64))])]),t("div",ot,[t("div",lt,[e[12]||(e[12]=t("label",{class:"text-[15px] text-text-muted px-1"},"URL/PATH",-1)),m(t("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=a=>o.value.url=a),placeholder:"/api/users"},null,512),[[f,o.value.url]])]),t("div",at,[e[13]||(e[13]=t("label",{class:"text-[15px] text-text-muted px-1"},"IP ADDRESS",-1)),m(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=a=>o.value.ip_address=a),placeholder:"127.0.0.1"},null,512),[[f,o.value.ip_address]])]),t("div",rt,[e[14]||(e[14]=t("label",{class:"text-[15px] text-text-muted px-1"},"USER ID",-1)),m(t("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=a=>o.value.user_id=a),placeholder:"1"},null,512),[[f,o.value.user_id]])])]),t("div",null,[e[17]||(e[17]=t("h3",{class:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-3"},"Date Range",-1)),t("div",nt,[t("div",dt,[e[15]||(e[15]=t("label",{class:"text-[11px] text-text-muted px-1"},"From",-1)),m(t("input",{type:"datetime-local","onUpdate:modelValue":e[5]||(e[5]=a=>o.value.date_from=a)},null,512),[[f,o.value.date_from]])]),t("div",it,[e[16]||(e[16]=t("label",{class:"text-[11px] text-text-muted px-1"},"To",-1)),m(t("input",{type:"datetime-local","onUpdate:modelValue":e[6]||(e[6]=a=>o.value.date_to=a)},null,512),[[f,o.value.date_to]])])])]),t("div",null,[e[20]||(e[20]=t("h3",{class:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-3"},"Duration",-1)),t("div",ut,[t("div",xt,[e[18]||(e[18]=t("label",{class:"text-[11px] text-text-muted px-1"},"Min (ms)",-1)),m(t("input",{type:"number","onUpdate:modelValue":e[7]||(e[7]=a=>o.value.duration_min=a),placeholder:"0"},null,512),[[f,o.value.duration_min]])]),t("div",ct,[e[19]||(e[19]=t("label",{class:"text-[11px] text-text-muted px-1"},"Max (ms)",-1)),m(t("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=a=>o.value.duration_max=a),placeholder:"max"},null,512),[[f,o.value.duration_max]])])])])]),t("div",{class:"px-5 py-4 border-t border-border-subtle flex gap-3"},[t("button",{onClick:E,class:"flex-1 py-2.5 text-sm font-medium glass-surface text-text-secondary hover:text-text-primary hover:bg-surface-hover rounded-[10px] transition-all"}," Reset "),t("button",{onClick:S,class:"flex-1 py-2.5 text-sm font-medium bg-accent text-text-inverted rounded-[10px] hover:bg-accent-hover transition-all"}," Apply Filters ")])])):k("",!0)]),_:1})])):k("",!0)]),_:1})]))}},mt={class:"space-y-4 animate-[fade-in_0.3s_ease]"},ft={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3"},bt={class:"flex items-center gap-2"},vt={class:"relative flex-1 sm:w-64"},gt={key:0,class:"flex flex-wrap gap-1.5"},yt=["onClick"],_t={key:0,class:"badge bg-surface-elevated text-text-secondary"},ht={class:"glass-surface overflow-hidden"},kt={class:"hidden md:block overflow-x-auto"},wt={class:"w-full"},Ct={key:0},$t={key:1},Tt={colspan:"5",class:"px-5 py-12 text-center text-text-muted text-sm"},St={class:"space-y-2"},Et=["onClick"],Dt={class:"px-5 py-3.5"},Pt=["title"],Ut={class:"px-5 py-3.5"},Ft={class:"px-5 py-3.5"},Lt={class:"px-5 py-3.5 text-sm text-text-muted whitespace-nowrap"},Rt={class:"md:hidden divide-y divide-border-subtle"},Ot={key:0,class:"p-5 text-center text-text-muted text-sm"},Vt={key:1,class:"p-8 text-center text-text-muted text-sm"},At={class:"flex items-center justify-between mb-1.5"},Nt={class:"flex items-center gap-2"},Ht={class:"font-mono text-xs text-text-secondary truncate"},It={class:"text-[11px] text-text-muted mt-1"},Gt={__name:"RequestsList",setup(C){const{requests:$,loading:w,fetchRequests:c,activeFilters:o}=X(),v=U(!1),g=U(""),y=B(()=>{if(!g.value)return $.value;const l=g.value.toLowerCase();return $.value.filter(r=>{var D,s;return((D=r.url)==null?void 0:D.toLowerCase().includes(l))||((s=r.method)==null?void 0:s.toLowerCase().includes(l))||String(r.status_code).includes(l)})}),P=l=>{c(l),v.value=!1},T=()=>{c({method:[],status_code:[],url:"",ip_address:"",user_id:"",date_from:"",date_to:"",duration_min:"",duration_max:""}),v.value=!1},S=()=>{const l=o.value;return l.method.length>0||l.status_code.length>0||l.url||l.ip_address||l.user_id||l.date_from||l.date_to||l.duration_min||l.duration_max},E=l=>l>=500?"bg-danger-soft text-danger":l>=400?"bg-warning-soft text-warning":l>=300?"bg-info-soft text-info":"bg-success-soft text-success",x=l=>({GET:"bg-info-soft text-info",POST:"bg-success-soft text-success",PUT:"bg-warning-soft text-warning",DELETE:"bg-danger-soft text-danger",PATCH:"bg-accent-soft text-accent"})[l]||"bg-surface-elevated text-text-secondary",e=l=>l>500?"text-danger":l>200?"text-warning":"text-success",a=l=>{try{return new URL(l).pathname+new URL(l).search}catch{return l}};return z(()=>c()),(l,r)=>{const D=G("router-link");return n(),d("div",mt,[t("div",ft,[r[4]||(r[4]=t("div",null,[t("h1",{class:"text-2xl font-bold text-text-primary"},"Requests"),t("p",{class:"text-sm text-text-muted mt-0.5"},"API request log")],-1)),t("div",bt,[t("div",vt,[b(i(O),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-text-muted"}),m(t("input",{"onUpdate:modelValue":r[0]||(r[0]=s=>g.value=s),type:"search",placeholder:"Search requests...",class:"w-full pl-9 pr-3 py-2 text-sm"},null,512),[[f,g.value]])]),t("button",{onClick:r[1]||(r[1]=s=>v.value=!0),class:p(["flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-[10px] transition-all duration-200",S()?"bg-accent text-text-inverted":"glass-surface text-text-secondary hover:text-text-primary hover:bg-surface-hover"])},[b(i(J),{class:"w-4 h-4"}),r[3]||(r[3]=t("span",{class:"hidden sm:inline"},"Filter",-1))],2)])]),S()?(n(),d("div",gt,[(n(!0),d(_,null,h(i(o).method,s=>(n(),d("span",{key:"m-"+s,class:"badge bg-info-soft text-info"},[Q(u(s)+" ",1),t("button",{onClick:H=>{i(o).method=i(o).method.filter(I=>I!==s),i(c)()},class:"ml-1"},[b(i(N),{class:"w-3 h-3"})],8,yt)]))),128)),(n(!0),d(_,null,h(i(o).status_code,s=>(n(),d("span",{key:"s-"+s,class:"badge bg-success-soft text-success"},u(s),1))),128)),i(o).url?(n(),d("span",_t,"URL: "+u(i(o).url),1)):k("",!0),t("button",{onClick:T,class:"text-xs text-accent hover:text-accent-hover transition-colors"},"Clear all")])):k("",!0),b(pt,{"is-open":v.value,filters:i(o),onClose:r[2]||(r[2]=s=>v.value=!1),onApply:P,onReset:T},null,8,["is-open","filters"]),t("div",ht,[t("div",kt,[t("table",wt,[r[7]||(r[7]=t("thead",null,[t("tr",{class:"border-b border-border-subtle"},[t("th",{class:"text-left text-[11px] font-medium text-text-muted uppercase tracking-wider px-5 py-3"},"Method"),t("th",{class:"text-left text-[11px] font-medium text-text-muted uppercase tracking-wider px-5 py-3"},"Path"),t("th",{class:"text-left text-[11px] font-medium text-text-muted uppercase tracking-wider px-5 py-3"},"Status"),t("th",{class:"text-left text-[11px] font-medium text-text-muted uppercase tracking-wider px-5 py-3"},"Duration"),t("th",{class:"text-left text-[11px] font-medium text-text-muted uppercase tracking-wider px-5 py-3"},"Time")])],-1)),t("tbody",null,[i(w)?(n(),d("tr",Ct,[...r[5]||(r[5]=[t("td",{colspan:"5",class:"px-5 py-8 text-center text-text-muted text-sm"},"Loading...",-1)])])):y.value.length===0?(n(),d("tr",$t,[t("td",Tt,[t("div",St,[b(i(O),{class:"w-8 h-8 mx-auto text-text-muted opacity-50"}),r[6]||(r[6]=t("p",null,"No requests found.",-1))])])])):k("",!0),(n(!0),d(_,null,h(y.value,s=>(n(),d("tr",{key:s.id,onClick:H=>l.$router.push("/requests/"+s.id),class:"border-b border-border-subtle last:border-0 hover:bg-surface-hover transition-colors cursor-pointer"},[t("td",Dt,[t("span",{class:p([x(s.method),"badge text-[11px]"])},u(s.method),3)]),t("td",{class:"px-5 py-3.5 font-mono text-sm text-text-secondary truncate max-w-[400px]",title:s.url},u(a(s.url)),9,Pt),t("td",Ut,[t("span",{class:p([E(s.status_code),"badge text-[11px]"])},u(s.status_code),3)]),t("td",Ft,[t("span",{class:p(["text-sm font-medium",e(s.duration_ms)])},u(s.duration_ms)+"ms",3)]),t("td",Lt,u(i(R)(new Date(s.created_at),{addSuffix:!0})),1)],8,Et))),128))])])]),t("div",Rt,[i(w)?(n(),d("div",Ot,"Loading...")):y.value.length===0?(n(),d("div",Vt,"No requests found.")):k("",!0),(n(!0),d(_,null,h(y.value,s=>(n(),V(D,{key:s.id,to:"/requests/"+s.id,class:"block p-4 hover:bg-surface-hover transition-colors"},{default:F(()=>[t("div",At,[t("div",Nt,[t("span",{class:p([x(s.method),"badge text-[10px]"])},u(s.method),3),t("span",{class:p([E(s.status_code),"badge text-[10px]"])},u(s.status_code),3)]),t("span",{class:p(["text-xs font-medium",e(s.duration_ms)])},u(s.duration_ms)+"ms",3)]),t("p",Ht,u(a(s.url)),1),t("p",It,u(i(R)(new Date(s.created_at),{addSuffix:!0})),1)]),_:2},1032,["to"]))),128))])])])}}};export{Gt as default};
