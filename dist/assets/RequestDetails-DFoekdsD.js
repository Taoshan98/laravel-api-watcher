import{c as b,u as I,a as J,b as z}from"./app-DYKFonEC.js";import{f as r,k as L,m as u,q as A,g as l,j as e,u as t,y as n,x as h,t as p,T as G,G as P,c as V,o as U,D as m,l as F,F as w,v as j,b as y}from"./vendor-charts-B6IHGujI.js";import{X}from"./x-DHufnDb5.js";import{L as K}from"./loader-circle-wUaqyuXr.js";import{C as O}from"./clock-B6b_1CIK.js";import{f as W}from"./formatDistanceToNow-aDLjEcHe.js";/**
 * @license lucide-vue-next v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=b("ArrowLeftIcon",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=b("CheckCheckIcon",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-vue-next v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=b("CopyIcon",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-vue-next v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=b("GlobeIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-vue-next v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=b("HardDriveIcon",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-vue-next v0.368.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=b("RefreshCwIcon",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),oe={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4",role:"dialog","aria-modal":"true"},ae={class:"relative w-full max-w-lg glass-surface-elevated overflow-hidden animate-[slide-up_0.25s_ease]"},ne={class:"flex items-center justify-between px-5 py-4 border-b border-border-subtle"},re={class:"px-5 py-5"},le={key:0,class:"flex justify-center py-10"},ie={key:1,class:"p-4 rounded-xl bg-danger-soft border border-danger/20"},de={class:"text-sm text-danger"},ce={key:2,class:"space-y-4"},xe={class:"flex items-center justify-between"},ue={class:"bg-surface-elevated rounded-xl p-3 overflow-auto max-h-60"},pe={class:"text-xs text-text-secondary font-mono whitespace-pre-wrap"},fe={class:"bg-surface-elevated rounded-xl p-3 overflow-auto max-h-40"},me={class:"text-xs text-text-secondary font-mono whitespace-pre-wrap"},ve={class:"px-5 py-4 border-t border-border-subtle flex justify-end"},ye={__name:"ReplayModal",props:{isOpen:Boolean,loading:Boolean,response:Object,error:String},emits:["close"],setup(c,{emit:C}){const _=c,o=C,$=V(()=>{if(!_.response)return"";const v=_.response.status;return v>=500?"bg-danger-soft text-danger":v>=400?"bg-warning-soft text-warning":v>=300?"bg-info-soft text-info":"bg-success-soft text-success"});return(v,i)=>(r(),L(P,{to:"body"},[u(G,{name:"fade"},{default:A(()=>[c.isOpen?(r(),l("div",oe,[e("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:i[0]||(i[0]=x=>o("close"))}),e("div",ae,[e("div",ne,[i[3]||(i[3]=e("h3",{class:"text-base font-semibold text-text-primary"},"Replay Result",-1)),e("button",{onClick:i[1]||(i[1]=x=>o("close")),class:"p-1.5 rounded-lg hover:bg-surface-hover transition-colors text-text-muted hover:text-text-primary"},[u(t(X),{class:"w-5 h-5"})])]),e("div",re,[c.loading?(r(),l("div",le,[u(t(K),{class:"w-8 h-8 text-accent animate-spin"})])):c.error?(r(),l("div",ie,[e("p",de,n(c.error),1)])):c.response?(r(),l("div",ce,[e("div",xe,[i[4]||(i[4]=e("span",{class:"text-xs font-semibold text-text-muted uppercase tracking-wider"},"Status",-1)),e("span",{class:h([$.value,"badge text-xs"])},n(c.response.status)+" "+n(c.response.statusText),3)]),e("div",null,[i[5]||(i[5]=e("span",{class:"text-xs font-semibold text-text-muted uppercase tracking-wider block mb-2"},"Body",-1)),e("div",ue,[e("pre",pe,n(typeof c.response.data=="object"?JSON.stringify(c.response.data,null,2):c.response.data),1)])]),e("div",null,[i[6]||(i[6]=e("span",{class:"text-xs font-semibold text-text-muted uppercase tracking-wider block mb-2"},"Headers",-1)),e("div",fe,[e("pre",me,n(JSON.stringify(c.response.headers,null,2)),1)])])])):p("",!0)]),e("div",ve,[e("button",{onClick:i[2]||(i[2]=x=>o("close")),class:"px-4 py-2 text-sm font-medium glass-surface text-text-secondary hover:text-text-primary hover:bg-surface-hover rounded-[10px] transition-all"}," Close ")])])])):p("",!0)]),_:1})]))}},be={class:"space-y-5 animate-[fade-in_0.3s_ease]"},ge={key:0,class:"space-y-4"},he={key:1},_e={class:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4"},ke={class:"space-y-2"},we={class:"flex items-center gap-3 flex-wrap"},Ce={class:"text-lg font-semibold text-text-primary break-all font-mono"},$e={class:"flex items-center gap-3 flex-wrap text-sm"},qe={class:"flex items-center gap-1 text-text-muted"},Re={class:"text-text-muted"},Te={key:0,class:"flex items-center gap-1 text-text-muted"},Ne={class:"flex gap-2 flex-shrink-0"},je={class:"glass-surface overflow-hidden mt-2"},Me={class:"flex border-b border-border-subtle px-1 pt-1"},Oe=["onClick"],Le={class:"p-5"},Se={key:0,class:"space-y-5"},Be={class:"bg-surface-elevated rounded-xl p-4 overflow-x-auto"},He={class:"text-xs text-text-secondary font-mono leading-relaxed whitespace-pre-wrap"},De={class:"bg-surface-elevated rounded-xl p-4 overflow-x-auto"},Ee={class:"text-xs text-text-secondary font-mono leading-relaxed whitespace-pre-wrap"},Ie={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-5"},Je={class:"bg-surface-elevated rounded-xl p-4 space-y-1.5 overflow-x-auto"},ze={class:"font-semibold text-accent"},Ae={class:"text-text-secondary ml-1.5 break-all"},Ge={key:1,class:"text-xs text-text-muted"},Pe={class:"bg-surface-elevated rounded-xl p-4 space-y-1.5 overflow-x-auto"},Ve={class:"font-semibold text-accent"},Ue={class:"text-text-secondary ml-1.5 break-all"},Fe={key:1,class:"text-xs text-text-muted"},Xe={key:2,class:"space-y-5"},Ke={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},We={class:"glass-surface p-4 flex items-center gap-3"},Qe={class:"w-10 h-10 rounded-xl bg-accent-soft flex items-center justify-center flex-shrink-0"},Ye={class:"text-xl font-bold text-text-primary"},Ze={class:"glass-surface p-4 flex items-center gap-3"},et={class:"w-10 h-10 rounded-xl bg-info-soft flex items-center justify-center flex-shrink-0"},tt={class:"text-xl font-bold text-text-primary"},st={class:"relative h-10 bg-surface-elevated rounded-full overflow-hidden"},ot={class:"absolute inset-0 bg-gradient-to-r from-accent/30 via-accent/50 to-accent/30 flex items-center justify-center"},at={class:"text-xs font-semibold text-text-primary"},nt={key:3,class:"space-y-4"},rt={class:"p-4 rounded-xl border border-danger/30 bg-danger-soft"},lt={class:"text-base font-semibold text-danger mb-1"},it={class:"text-xs text-text-muted font-mono"},dt={class:"bg-surface-base rounded-xl p-4 overflow-x-auto border border-border-subtle"},ct={class:"text-xs text-success font-mono leading-relaxed whitespace-pre-wrap"},xt={key:1,class:"text-center text-text-muted text-sm py-8"},bt={__name:"RequestDetails",setup(c){const C=J(),_=z(),{request:o,loading:$,fetchRequest:v,replayRequest:i}=I(),x=y("payload"),q=y(!1),R=y(!1),T=y(null),N=y(null),k=y(!1),S=async()=>{q.value=!0,R.value=!0,T.value=null,N.value=null;try{T.value=await i(o.value)}catch(a){N.value=a.message}finally{R.value=!1}},B=()=>{if(!o.value)return;const a=o.value;let s=`curl -X ${a.method} "${a.url}"`;if(a.request_headers&&Object.entries(a.request_headers).forEach(([d,f])=>{s+=` \\
  -H "${d}: ${f}"`}),a.request_body&&a.method!=="GET"){const d=typeof a.request_body=="string"?a.request_body:JSON.stringify(a.request_body);s+=` \\
  -d '${d.replace(/'/g,"'\\''")}'`}navigator.clipboard.writeText(s),k.value=!0,setTimeout(()=>k.value=!1,2e3)},H=a=>a>=500?"bg-danger-soft text-danger":a>=400?"bg-warning-soft text-warning":a>=300?"bg-info-soft text-info":"bg-success-soft text-success",D=a=>({GET:"bg-info-soft text-info",POST:"bg-success-soft text-success",PUT:"bg-warning-soft text-warning",DELETE:"bg-danger-soft text-danger",PATCH:"bg-accent-soft text-accent"})[a]||"bg-surface-elevated text-text-secondary",E=[{id:"payload",label:"Payload"},{id:"headers",label:"Headers"},{id:"timeline",label:"Timeline"}],M=a=>{if(!a)return"No data";if(typeof a=="object")return JSON.stringify(a,null,2);try{return JSON.stringify(JSON.parse(a),null,2)}catch{return a}},g=a=>a.exception_info?typeof a.exception_info=="string"?JSON.parse(a.exception_info):a.exception_info:null;return U(()=>v(C.params.id)),(a,s)=>(r(),l("div",be,[t($)?(r(),l("div",ge,[...s[3]||(s[3]=[e("div",{class:"skeleton h-8 w-48"},null,-1),e("div",{class:"skeleton h-6 w-96"},null,-1),e("div",{class:"skeleton h-[400px]"},null,-1)])])):t(o)?(r(),l("div",he,[e("div",_e,[e("div",ke,[e("button",{onClick:s[0]||(s[0]=d=>t(_).push("/requests")),class:"flex items-center gap-1.5 text-sm text-text-muted hover:text-text-primary transition-colors mb-2"},[u(t(Q),{class:"w-4 h-4"}),s[4]||(s[4]=m(" Back to requests ",-1))]),e("div",we,[e("span",{class:h([D(t(o).method),"badge text-xs"])},n(t(o).method),3),e("h1",Ce,n(t(o).url),1)]),e("div",$e,[e("span",{class:h([H(t(o).status_code),"badge text-xs"])},n(t(o).status_code),3),e("span",qe,[u(t(O),{class:"w-3.5 h-3.5"}),m(" "+n(t(o).duration_ms)+"ms",1)]),e("span",Re,n(t(W)(new Date(t(o).created_at),{addSuffix:!0})),1),t(o).ip_address?(r(),l("span",Te,[u(t(ee),{class:"w-3.5 h-3.5"}),m(" "+n(t(o).ip_address),1)])):p("",!0)])]),e("div",Ne,[e("button",{onClick:B,class:"flex items-center gap-1.5 px-3 py-2 text-sm font-medium glass-surface text-text-secondary hover:text-text-primary hover:bg-surface-hover transition-all rounded-[10px]"},[(r(),L(F(k.value?t(Y):t(Z)),{class:"w-4 h-4"})),m(" "+n(k.value?"Copied!":"cURL"),1)]),e("button",{onClick:S,class:"flex items-center gap-1.5 px-3 py-2 text-sm font-medium bg-accent text-text-inverted rounded-[10px] hover:bg-accent-hover transition-all"},[u(t(se),{class:"w-4 h-4"}),s[5]||(s[5]=m(" Replay ",-1))])])]),e("div",je,[e("div",Me,[(r(),l(w,null,j(E,d=>e("button",{key:d.id,onClick:f=>x.value=d.id,class:h(["px-4 py-2.5 text-sm font-medium rounded-t-lg transition-all duration-200",x.value===d.id?"bg-surface-elevated text-accent border-b-2 border-accent mb-[-1px]":"text-text-muted hover:text-text-primary"])},n(d.label),11,Oe)),64)),t(o).status_code>=500&&t(o).exception_info?(r(),l("button",{key:0,onClick:s[1]||(s[1]=d=>x.value="exception"),class:h(["px-4 py-2.5 text-sm font-medium rounded-t-lg transition-all duration-200",x.value==="exception"?"bg-danger-soft text-danger border-b-2 border-danger mb-[-1px]":"text-text-muted hover:text-danger"])}," Exception ",2)):p("",!0)]),e("div",Le,[x.value==="payload"?(r(),l("div",Se,[e("div",null,[s[6]||(s[6]=e("h3",{class:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-2"},"Request Body",-1)),e("div",Be,[e("pre",He,n(M(t(o).request_body)),1)])]),e("div",null,[s[7]||(s[7]=e("h3",{class:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-2"},"Response Body",-1)),e("div",De,[e("pre",Ee,n(M(t(o).response_body)),1)])])])):p("",!0),x.value==="headers"?(r(),l("div",Ie,[e("div",null,[s[8]||(s[8]=e("h3",{class:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-2"},"Request Headers",-1)),e("div",Je,[t(o).request_headers?(r(!0),l(w,{key:0},j(t(o).request_headers,(d,f)=>(r(),l("div",{key:f,class:"text-xs"},[e("span",ze,n(f)+":",1),e("span",Ae,n(d),1)]))),128)):(r(),l("p",Ge,"No headers"))])]),e("div",null,[s[9]||(s[9]=e("h3",{class:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-2"},"Response Headers",-1)),e("div",Pe,[t(o).response_headers?(r(!0),l(w,{key:0},j(t(o).response_headers,(d,f)=>(r(),l("div",{key:f,class:"text-xs"},[e("span",Ve,n(f)+":",1),e("span",Ue,n(d),1)]))),128)):(r(),l("p",Fe,"No headers"))])])])):p("",!0),x.value==="timeline"?(r(),l("div",Xe,[e("div",Ke,[e("div",We,[e("div",Qe,[u(t(O),{class:"w-5 h-5 text-accent"})]),e("div",null,[s[11]||(s[11]=e("p",{class:"text-xs text-text-muted"},"Total Duration",-1)),e("p",Ye,[m(n(t(o).duration_ms),1),s[10]||(s[10]=e("span",{class:"text-sm font-normal text-text-muted ml-0.5"},"ms",-1))])])]),e("div",Ze,[e("div",et,[u(t(te),{class:"w-5 h-5 text-info"})]),e("div",null,[s[13]||(s[13]=e("p",{class:"text-xs text-text-muted"},"Memory Usage",-1)),e("p",tt,[m(n(t(o).memory_usage_kb),1),s[12]||(s[12]=e("span",{class:"text-sm font-normal text-text-muted ml-0.5"},"KB",-1))])])])]),e("div",null,[s[14]||(s[14]=e("h3",{class:"text-xs font-semibold text-text-muted uppercase tracking-wider mb-3"},"Waterfall",-1)),e("div",st,[e("div",ot,[e("span",at,"Application Processing ("+n(t(o).duration_ms)+"ms)",1)])])])])):p("",!0),x.value==="exception"?(r(),l("div",nt,[g(t(o))?(r(),l(w,{key:0},[e("div",rt,[e("h3",lt,n(g(t(o)).message),1),e("p",it,n(g(t(o)).file)+":"+n(g(t(o)).line),1)]),e("div",dt,[e("pre",ct,n(g(t(o)).trace),1)])],64)):(r(),l("p",xt,"No exception details available."))])):p("",!0)])])])):p("",!0),u(ye,{"is-open":q.value,loading:R.value,response:T.value,error:N.value,onClose:s[2]||(s[2]=d=>q.value=!1)},null,8,["is-open","loading","response","error"])]))}};export{bt as default};
